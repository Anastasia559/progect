
   <div class="main" style="margin-top: -40px;">
        <div class="content">
                <div class="title mt-5">
                        <p class="secondary-text tn-text "> <a href="/" class="yellow_text underline">{{{__ "Главная"}}}</a>
                            &nbsp;/&nbsp;  <a href="/statistics" class="yellow_text underline">{{{__ "Открытые данные"}}}</a>
                               &nbsp;/&nbsp;  <a href="/statistics/directions/" class="yellow_text underline">{{{__ "Справочник направлений"}}}</a> 
                           &nbsp;/&nbsp;  <span class="brown_text">{{title}}&nbsp;>&nbsp;{{direction}} </span>
                          </p>

                        <h2 class="white-text  title_text mt-5">{{title}}</h2>

    <div class="row" style="margin-left: -5px;">



      <div class="btn-group col-11 col-sm-3 col-md-2 white my-3 rounded mx-1 p-0" style="height: 60px;">
          <a class="btn  m-0 dropdown-toggle font-weight-bold opacity-5 px-1" id="filter"
           style="line-height: 40px;" data-toggle="dropdown" href="#">Фильтр <span class="caret"></span></a>
          <ul class="dropdown-menu filter-region">
            <li class="pt-1 px-3" data-filter="*"><a class="filter-link" >{{{__ "Бардык аймактар"}}}</a></li>

   {{#each obj}}
                {{#each this}}
            <li class="pt-2 px-3" data-filter=".{{incremented @index}}"><a class="filter-link" >{{@key}}</a></li>
               {{/each}}
               {{/each}}
         
          </ul>
        </div>

     <div class="  white my-3 rounded  col-11  col-sm-3  col-md-3 mx-1 mr-4" style="height: 60px;">
   
            <input type="text" style="height: 60px;" id="search_input" class="quicksearch px-0 rounded" placeholder="{{{__ 'Поиск'}}}" />

      </div>
   <button   style="height: 60px;width:100px !important;"
    class="yellow-color btn sm-text font-weight-bold white-text float-right isotope-reset m-3 px-1  ">{{{__ "Сброс"}}}</button>
 
      

      </div>



                    </div>

        </div>

    </div>
<script type="text/javascript" src="/js/isotope.min.js"></script>

<div id="content" class="content">

{{!--
    <div class=" text-center py-3 mt-4">
        <h4 class="color-blue font-weight-normal px-2"> {{title}}</h4>

        <!--a target="_blank" href="/pdf_report_spec" class="site_link border rounded p-2 px-3 m-1  d-inline-block">{{{__ "PDF
            отчет специальности"}}} <i class="fas fa-file-pdf white-text ml-2"> </i>
        </a-->
    </div>
--}}

        <ul id="direction"  class="d-flex flex-wrap  justify-content-start mt-3" style="list-style-type: none;padding-inline-start:0;">
                {{#each obj}}
                {{#each this}}
         <li  class="card-item ml-2 mt-4 {{incremented @index}}">
                <div class="scrolling-wrapper">
                    <div class="row mx-0">
                        <div class="rows">
                            <p class="university-name color-blue">{{incremented @index}}. {{@key}}</p>
                        </div>
                       <div class="rows">
                            <div class="cell oplata sm-text opacity-5">{{{../../__ "Шифр"}}}</div>
                            <div class="cell napr sm-text opacity-5">{{{../../__ "Факультет"}}}</div>
                            <div class="cell napr sm-text opacity-5">{{{../../__ "Специальность"}}}</div>
                            <div class="cell oplata sm-text opacity-5">{{{../../__ "Форма оплаты"}}}</div>
                       <div class="cell oplata sm-text opacity-5">{{{../../__ "Сумма оплаты (сом) <br> 1 год"}}}</div>   
                            <div class="cell sm-text oplata  opacity-5">{{{../../__ "План набора"}}}<br>
                             {{{../../__ "Всего"}}}: {{total_kol_plan this}}</div>
                            <div class="cell porog sm-text opacity-5">{{{../../__ "Пороговые баллы"}}}</div>
                        </div>
                {{#each this}}
                        <div class="rows {{#ifCond @index '!=' 0}} border-top {{/ifCond}}">
                                <div class="d-flex">
                                    <div class="cell oplata sm-text">{{specialty_cipher}}</div>
                                    <div class="cell napr sm-text">{{faculty}}</div>
                                    <div class="cell napr sm-text">{{specialty}}</div>
                                    <div class="cell oplata sm-text">{{bk}}</div>
                               <div class="cell oplata sm-text">{{smeta_education}}</div>  
                                    <div class="cell oplata  sm-text">{{kol_plan}}</div>
                                    <div class="cell porog sm-text"> 
            {{#if ball}}{{ball}} {{/if}}
            {{#if BallOnRepsTest}} {{{../../../__ "Основной балл"}}}-{{BallOnRepsTest}} {{/if}}
            {{#if ORT_biology}}<br>Биология-{{ORT_biology}}{{/if}}
            {{#if ORT_history}}<br>{{{../../../__ "История"}}}-{{ORT_history}}{{/if}}
            {{#if ORT_chemistry}}<br>Химия-{{ORT_chemistry}}{{/if}}
            {{#if ORT_physics}}<br>Физика-{{ORT_physics}}{{/if}}
            {{#if ORT_english}}<br>{{{../../../__ "Английский"}}}-{{ORT_english}}{{/if}}
            {{#if ORT_kyrgyz}}<br>{{{../../../__ "Кыргызский"}}}-{{ORT_kyrgyz}}{{/if}}
            {{#if ORT_russian}}<br>{{{../../../__ "Русский"}}}-{{ORT_russian}}{{/if}}
            {{#if necessarily_kol}}<br>{{{../../../__ "Количество объязательных предметов"}}}-{{necessarily_kol}}{{/if}}

                                    </div>
                                </div>
                            </div>
                        
               {{/each}}

                    </div>
                </div>
            </li>
               {{/each}}
               {{/each}}
        </ul>

{{!--
    <div class="table-responsive container my-4">
        <!--Table-->
        <table id="ReportTable" class=" table table-bordered m-2 table-hover table-sm">
            <!--Table head-->
            <thead class="header white-text">
                <tr>
                    <th style="width: 5%; text-align:center;">{{{__ "Шифр специальности"}}}</th>
                    <th style="width: 25%; text-align:center;">{{{__ "Факультет"}}}</th>
                    <th>{{{__ "Направление/Специальность"}}}</th>
                    <th style="width: 5%; text-align:center;">{{{__ "Форма оплаты"}}}</th>
                    <th>{{{__ "План набора"}}}</th>
               
                    <th>{{{__ "Пороговый балл"}}} </th>
                </tr>
            </thead>
            <!--Table head-->
            <!--Table body-->
            <tbody>
                {{#each obj}}
                <tr>
                    <th colspan=6 class="text-center university"> {{@key}}</th>
                </tr>
                {{#each this}}
                <tr>
                    <th colspan=6 class="text-center faculty">{{incremented @index}}. {{@key}}</th>
                </tr>
                <tr class="header2">
                    <th style="width: 5%; text-align:center;">{{{../../__ "Шифр специальности"}}}</th>
                    <th>{{{../../__ "Факультет"}}}</th>
                    <th>{{{../../__ "Специальность"}}}</th>
                    <th style="width: 5%; text-align:center;">{{{../../__ "Форма оплаты"}}}</th>
                    <th style="width: 10%; text-align:center;">{{{../../__ "План набора"}}}<br>
                        {{{../../__ "Всего"}}}: {{total_kol_plan this}}</th>
                    <th>{{{../../__ "Пороговый балл"}}} </th>
                </tr>
                {{#each this}}

                <tr>
                    <td>{{specialty_cipher}}</td>
                    <td> {{faculty}}</td>
                    <td>{{specialty}}</td>
                    <td>{{bk}}</td>
                    <td>{{kol_plan}}</td>
                    <td>{{{../../../__ "Основной бал"}}}л-{{BallOnRepsTest}}
                        {{#if ORT_biology}}<br>Биология-{{ORT_biology}}{{/if}}
                        {{#if ORT_history}}<br>{{{../../../__ "История"}}}-{{ORT_history}}{{/if}}
                        {{#if ORT_chemistry}}<br>Химия-{{ORT_chemistry}}{{/if}}
                        {{#if ORT_physics}}<br>Физика-{{ORT_physics}}{{/if}}
                        {{#if ORT_english}}<br>{{{../../../__ "Английский"}}}-{{ORT_english}}{{/if}}
                        {{#if ORT_kyrgyz}}<br>{{{../../../__ "Кыргызский"}}}-{{ORT_kyrgyz}}{{/if}}
                        {{#if ORT_russian}}<br>{{{../../../__ "Русский"}}}-{{ORT_russian}}{{/if}}
                        {{#if necessarily_kol}}<br>{{{../../../__ "Количество объязательных предметов"}}}-{{necessarily_kol}}{{/if}}
                    </td>
                </tr>

                {{/each}}
                {{/each}}
                {{/each}}

            </tbody>
            <!--Table body-->
        </table>
        <!--Table-->
    </div>
--}}

</div>


<script>
var qsRegex;
var buttonFilter;

// init Isotope
var $grid = $('#direction').isotope({
  itemSelector: '.card-item',
  layoutMode: 'fitRows',
  filter: function() {
             var $this = $(this);
    var searchResult = qsRegex ? $this.text().match( qsRegex ) : true;
    var buttonResult = buttonFilter ? $this.is( buttonFilter ) : true;
    return searchResult && buttonResult;  }
});

  $('.filter-region').on('click', 'li', function () {
      buttonFilter = $(this).attr('data-filter');
      $grid.isotope();
  });


// use value of search field to filter
var $quicksearch = $('.quicksearch').keyup( debounce( function() {
  qsRegex = new RegExp( $quicksearch.val(), 'gi' );
  $grid.isotope();
}, 200 ) );

// debounce so filtering doesn't happen every millisecond
function debounce( fn, threshold ) {
  var timeout;
  threshold = threshold || 100;
  return function debounced() {
    clearTimeout( timeout );
    var args = arguments;
    var _this = this;
    function delayed() {
      fn.apply( _this, args );
    }
    timeout = setTimeout( delayed, threshold );
  };
}

  $(".dropdown-menu li a").click(function () {
    var selText = $(this).text();
    $(this).parents('.btn-group').find('.dropdown-toggle').html(selText + ' <span class="caret"></span>');
  });


$(".isotope-reset").click(function(){
   $("#search_input").val("");
      $("#filter").html('Фильтр <span class="caret"></span>');
        buttonFilter="*";
        qsRegex="";
        $grid.isotope();
});
</script>

